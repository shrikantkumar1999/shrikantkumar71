<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Form.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
 
</head>
<body>
  <div class="container mt-3">
    <a href="./index.html" class="but1"  >back </a>
   
     <table class="table table-dark">
        <thead>
           <th>iddd</th>
            <th>user_name </th>
            <th>father_name</th>
            <th>gender</th>
            <th>state</th>
            <th>pincode</th>
            <th>mobile number</th>
            <th>Email</th>
        </thead>
        
      
 

        <tbody id="tbody1"></tbody>

    </table>

  </div>  
<script type="module" >
var tbody=document.getElementById('tbody1');
var stdNo=0;
function AddItemToTable(name,fathername,gender,state,pincode,mobile,email){


let trow=document.createElement("tr");
let td1=document.createElement("td");
let td2=document.createElement("td");
let td3=document.createElement("td");
let td4=document.createElement("td");
let td5=document.createElement("td");
let td6=document.createElement("td");
let td7=document.createElement("td");
let td8=document.createElement("td");

td1.innerHTML=++stdNo;
td2.innerHTML=name;
td3.innerHTML=fathername;
td4.innerHTML=gender;
td5.innerHTML=state;
td6.innerHTML=pincode;
td7.innerHTML=mobile; 
td8.innerHTML=email;

trow.appendChild(td1);
trow.appendChild(td2);
trow.appendChild(td3);
trow.appendChild(td4);
trow.appendChild(td5);
trow.appendChild(td6);
trow.appendChild(td7);
trow.appendChild(td8);

tbody.appendChild(trow);
 
}
 
function AddAllItemToTable(formdata){
//  console.log(formdata.file); 





 
formdata.forEach(element=>{ 

AddItemToTable(element.user_name,element.father_name,element.gender,element.state,element.pincode,element.mobile,element.email);
 });

}

  
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBaAXmU3KU2EiMRUinqq9svxQtI65wwxpA",
    authDomain: "formdata-b7401.firebaseapp.com",
    databaseURL: "https://formdata-b7401-default-rtdb.firebaseio.com",
    projectId: "formdata-b7401",
    storageBucket: "formdata-b7401.appspot.com",
    messagingSenderId: "44569804899",
    appId: "1:44569804899:web:ffe6af4efafd322d09b856"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
 import {
    getFirestore,doc,getDoc,getDocs,onSnapshot,collection
 }
 from "https://www.gstatic.com/firebasejs/9.14.0/firebase-firestore.js";
const db = getFirestore();

async function GetAllDataOnce(){
    const querySnapshot = await getDocs(collection(db,"formdata"));
    var students=[];
 
    querySnapshot.forEach(doc => {
        students.push(doc.data());
    });
    AddAllItemToTable(students);

}
window.onload=GetAllDataOnce;
</script>


</body>
</html>